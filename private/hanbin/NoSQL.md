# NoSQL

- RDB의 특징
  - 상호 관련성을 가진 테이블 집합으로 구성
  - 테이블 간 관계는 FK
  - 테이블은 행과 열
  - 스키마 변경이 어려움
  - scale up은 가능, scale out은 어려움
  - 안정적으로 ACID 지원



| RDB                      | NoSQL                                                        |
| ------------------------ | ------------------------------------------------------------ |
| 관계형으로 데이터 저장   | 관계형 사용 안 함                                            |
| 정적 스키마              | 유연한 스키마                                                |
| Scale-up                 | Scale-out                                                    |
| 복잡한 쿼리 및 Join 연산 | 구조화된 쿼리 언어가 없기도 하며, <br />일반적으로 Join 없음 |
| 트랜잭션 처리에 유리     | 분석 처리에 유리                                             |



- NoSQL(Not Only SQL)
  - SQL만을 사용하지 않는 DBMS
  - 다양한 방식으로 데이터를 표현함
  - 테이블 사이에 특별히 명시된 제약이나 규칙이 없음
  - 스키마가 고정적이지 않음, 유연
  - 스케일 아웃 용이
  - 연산이 빠르며 빅데이터 및 실시간 연산에 적합
- 종류 다양
  - Document model
    - 레코드 하나를 Document 형식으로 표현
    - ***자유로운 스키마 구조***
    - MongoDB
  - key-value model
    - 키-밸류의 해시 구조
    - ***빠른 데이터 접근 가능***
    - 데이터를 저장하기 전에 데이터를 어떻게 가져올 지 생각해야 함
    - Cassandra, Redis, Memcache
      - Redis
        - 영속성을 지원하는 인메모리 데이터베이스 - 빠른 속도
          - 영속성 지원 방식
            - RDB(Snapshotting): 메모리의 내용 전체를 디스크에 옮겨 담음
            - AOF; Append On File: write/update 연산을 log파일에 기록
        - 다양한 자료구조를 지원 - 다양한 기능 구현이 가능
        - 주의사항
          - 싱글 스레드
          - 특정 키를 삭제할 수 없음: 만료 시점 설정하여 삭제하는 것이 좋음
        - I/O가 빈번히 발생할 경우 사용하면 좋음
          - 캐싱 처리
          - 세션 관리
          - 메시지 큐
    - 애플, ebay
  - Graph model
    - 데이터를 정점과 간선으로 표현
    - ***데이터 사이의 유기적인 관계를 표현하기에 적합***
    - Neo4j
    - 페이스북, 인스타그램
  - Search Engine: ElasticSearch
  
  - Wide Column Storage: Cassandra, HBase, DynamoDB