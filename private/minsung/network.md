[toc]



# OSI 7계층



## 1. 물리 계층

*  bitstream을 두 노드 사이에 연결된 물리적인 데이터 링크를 통해 전송.
* 기기 예시
  * 네트워크 인터페이스 컨트롤러
  * 이더넷(유선 인터넷) 허브
  * 네트워크 스위치
* 디지털 비트를 특정 신호로 인코딩
  * 전자
  * 라디오
  * 광학
* 특정 아날로그 신호로의 인코딩이 어떻게 이루어지는지 결정
  * ex) 1 비트 : 5v -> 0v로 바뀔 때

## 2. 데이터 링크 계층

* 같은 네트워크에 직접적으로 연결된 두 노드의 데이터 전송 프로토콜
* 물리 계층에서 나타날 수 있는 오류들을 감지하고 수정한다.
  * 두 개 이상의 호스트가 같은 회선을 통해 데이터를 동시에 전송할 때

* 물리적으로 연결된 두 기기의 커넥션을 생성하고 제거하는 프로토콜을 결정한다.
* 흐름 제어
  * 수신 노드의 수신 속도가 송신 노드의 송신 속도보다 느릴 때 발생하는 문제 방지.
  * 송신 노드에게 수신 노드가 feedback을 보내는 여부에 따라 분류
* 두 개의 하위 계층으로 나뉜다.
  * Medium Access Control(MAC)
    * 네트워크에 있는 기기들이 어떤 방식으로 전송을 위한 중개 매체에 접근하고, 접근을 허용 받는지를 결정
  * Logical Link Control(LLC) 
    * 네트워크 계층들을 식별하고, 캡슐화한다.
    * 오류 체크
    * 프레임 동기화
  * 이더넷, 와이파이, 지그비

## 3. 네트워크 계층

* **다른 네트워크**에 있는 노드들 간의 연결 기능 및 절차적 수단 제공.
* 네트워크
  * 다수의 노드들이 연결될 수 있는 중간 매체
  * 네트워크 안에서 모든 노드들은 고유의 주소를 갖는다.
  * 기기들은 메시지를 전송할 때 전송 메시지 내용과 목적지 주소만 네트워크에 제시하면 네트워크가 내부적으로 구현된 방법으로 메시지를 전달한다.
  * 보통 routing을 통해 중간 노드들을 거쳐서 목적지 노드까지 전달한다.
* 데이터가 너무 클 경우, 네트워크에서 메시지를 나눠서 전송한다. 
  * 나눠진 메시지는 목적지 노드가 재결합한다.
* 네트워크 계층에서는 신뢰성 있는 메시지 전송을 보장하지 않는다.
* IP 뿐만 아니라 다른 프로토콜들도 존재
  * ARP : 논리 주소 -> 물리 주소(broadcast)
  * RARP : 물리 주소 -> 논리 주소
  * ICMP
    * 연결 상태 제어 및 관리(서버가 닫혀 있는가 등)


## 4. 전송 계층

* 소스 호스트의 애플리케이션과 목적지 호스트의 애플리케이션 사이의 **신뢰성 있는 데이터 전송**을 위한 수단을 제공한다.
* 종류
  * Connection-oriented(연결형)
    * TCP, COTP
    * segment를 추적하고, segment 전송이 실패했을 경우, 다시 전송 요청(hand-shake)
    * 전송한 데이터가 제대로 전송되었는지 acknowlegement, 확인이 되었을 경우 다음 데이터 전송

  * Connectionless(비연결형)
    * UDP, CLTP
    * 신뢰성 보장 X
    * 패킷 손실, 순서, 오류, 중복 허용
      * 사용하는 애플리케이션에서 치명적이지 않음
    * 스트리밍에서 사용
* 거대한 Protocol Data Unit 또는 데이터 스트림을 "segment" 라는 덩어리로 나눈다.=> segmentation

  * 네트워크 계층의 최대 전송 패킷 사이즈(Maximum Transmission Unit) 이내여야 한다.
  * 네트워크 계층과 데이터 계층이 허용할 정도로 segment 단위의 최대 데이터 크기가 결정된다.
    * 이더넷의 MTU - 1500 bytes
* 흐름 제어
* 오류 제어
  * 변조
    * 체크섬으로 확인
    * 송신쪽 헤더에서 보낸 체크섬과 수신 쪽에서 계산한 체크섬을 비교
  * 누락
  * 순서
* 순서 제어

  *  acknowledgement
* cf) TLS는 전송 계층과 세션 계층의 특징을 골고루 갖고있다.(정확하게 OSI 모델과 일치하지 않음)

## 5. 세션 계층

* 두 애플리케이션 사이의 연결(세션) 관리

  * 연결 수립, 종료, 동기화, 유지 관리

* 사용자 로그인, 사용자 로그오프

* 인증 프로토콜
  * FTP NFS 클라이언트

* 통신 방식
  * 동시 송수신 방식(duplex)
  * 반 이중 방식(half-duplex)
  * 전 이중 방식(full duplex)

* 토큰 관리

* 체크포인트를 두어서 연결이 실패했을 경우, 실패한 지점부터 연결을 재개시킬 수 있게 한다.

* 음성이나 비디오 스트림 관련 세션 제어 절차를 성립

* 요청 / 응답 구조

* 자바에서의 예시 : session beans

  * 세션이 수립된 동안에만 저장.
  * 사용자 정보 저장

  

## 6. 표현 계층

* 코드 사이의 번역 담당

* 데이터 포맷
* 데이터 변환
* 애플리케이션에서 전송하는 데이터를 특정 형태로 인코딩/디코딩
* 프로토콜 변환, 데이터 암호화, 데이터 복호화, 데이터 압축, 데이터 압축 해제, OS 간의 데이터 표현 비호환성
* 애플리케이션 계층이 수용할 수 있는 형태로 데이터를 변환
* 예시
  * 객체, 기타 자료 구조의 직렬화(XML, JSON);
  * EBCDIC -> ASCII

## 7. 응용 계층

* 프로토콜 스택을 통해 전달받은 패킷을 다시 파싱해 응용 소프트웨어를 통해 최종적으로 사용자까지 전달

* 사용자와 가장 가까이 있는 계층

* 응용 프로그램들을 매개로 사용자와 직접적인 상호작용.

* 파일 공유, 메시지 처리, 데이터베이스 접근

* HTTP, FTP, SMB/CIFS, TFTP, SMTP, DNS

* 애플리케이션 개체와, 애플리케이션의 구분

  * 예약 웹사이트 애플리케이션의 개체들

    1. HTTP
       * 사용자의 HTTP 프로토콜 요청/응답

    2. RPC
       * 예약 데이터베이스 예약 요청 저장

# TCP/IP 4계층

* 인터넷 혹은 유사 컴퓨너 네트워크에서 사용되는 통신 프로토콜의 집합

## 응용 계층

* OSI 7계층의 응용 계층 + 표현 계층 + 세션 계층
* process to process

## 전송 계층

* host to host

## 인터넷 계층

* 독립적인 네트워크들의 연결 (= 라우팅)

## 링크 계층

* OSI 7 계층의 물리 계층 + 데이터 링크 계층
* 호스트와 직접 연결된 로컬 네트워크 연결 (= link)
  * 라우터를 거치지 않은 직접 연결된 호스트들을 포함한다.





1. TCP/IP 4 계층과 OSI 7 계층의 차이점을 말씀해 주세요.
2. 데이터 링크 계층과 물리 계층의 차이점을 말씀해주세요.
