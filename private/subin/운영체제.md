---

mindmap-plugin: basic

---

# 운영체제

## 프로세스 vs 스레드
- 정리 ^79bff367-5be1-fed9
   - 자원은 Process 단위로 받고, 작업/스케줄링은 Thread 단위로 진행
   - 여기서 핵심은 컨텍스트 스위칭 비용을 줄이기 위해서인듯?!!!!
      - 코드, 힙, 데이터 영역을 공유해서.
      - 스레드도 컨텍스트 스위칭을 하지만, 프로세스 컨텍스트 스위칭보다 매우 짧게 가져갈 수 있다
   - 동시성 문제가 발생할 수 잇음
- 프로세스( ^28b24817-6571-963d
   - 개념
      - 프로세서에 의해 동작하고 있는 프로그램
         - 프로세스가 동작한다는 것은 프로세스의 특정 스레드가 실행중
         - 그 특정 스레드는 프로세스가 가진 데이터를 참조함
   - 제어블록
      - 프로세스 식별자
      - 프로세스 상태
      - 프로그램카운터
      - CPU 스케줄링 정보
      - 기타 등등..
   - Context Switching
      - 한 프로세스에 할당 된 시간이 끝나거나 인터럽트에 의해 발생한다
   - 프로그램 vs 프로세스
      - 프로그램
         - 저장장치에 저장되어 있는 정적인 상태
         - 레시피
      - 프로세스
         - 실행을 위에 메모리에 올라온 동적인 상태
         - 요리
   - 구조
      - 스택
         - 호출된 함수, 지역변수 등 임시 데이터
      - 힙
         - 동적으로 생긴 데이터
      - 데이터
         - 전역변수 (static, global 등)
      - 코드
         - 프로그램 코드
- 스레드 ^24652666-c496-2283
   - 개념
      - 프로세스의 코드에 정의된 절차에 따라 CPU에 작업 요청을 하는 실행 단위이다
      - 프로세스 내에서 실행되는 작업 흐름의 단위
   - 멀티스레드 구조
   - 멀티스레드 장단점
      - 단점
         - 동시성문제
   - 멀티프로세스 vs 멀티스레드
      - 멀티스레드
         - 프로세스 내 작업을 여러개의 스레드로 분할하여 작업의 부담을 줄이는 `프로세스 운영 기법`
      - 멀티프로세스
         - CPU를 여러개 사용하여 여러 개의 스레드를 동시에 처리하는 작업환경
   - 스프링에서의 Thread Pool
      - Tomcat은 위에서의 다중 요청을 처리하기 위해서 Thread Pool 전략을 사용한다
      - 작업 시 Thread Pool에서 가져가 사용하고, Thread 자원을 해제하는 것이 아닌 Thread Pool에 다시 반납한다
      - server.tomcat.threads.min-spare: 10
         - 아무 작업이 없어도 활성화 되어 있는 Thread 개수
      - server.tomcat.accept-count: 100
         - 요청 대기하는 큐의 크기
- 차이 ^bf856a1b-0454-a171
   - 멀티 프로세스를 하게 된다면,
      - 컨텍스트스위칭 시에 스택, 힙, 데이터, 코드를 모두 재로딩을 해야하고
      - 같은 작업을 하기 위해 만든 프로세스인데 각 영역을 따로 가지기 때문에,
         다른 프로세스의 정보를 사용하기 위해 통신(IPC)이 필요하게 된다
      - 코드 힙 데이터 영역을 공유하고, 이제 스레드에서는 각 Stack만을 포함한다
   - 리눅스 커널에서는 프로세스와 스레드를 동일하게 본다
      - 스레드는 사용자 스레드와 커널 스레드로 나뉜다

## 커널
- 구성
   - 단일형구조커널
      - 초창기의 운영체제
      - 모듈들이 구분없이 하나로 구성되어있음
      - 대표적인 운영체제
         - MS-DOS
         - VMS
         - 초기의 유닉스 운영체제
      - 장단점
         - 장점
            - 모듈이 거의 분리되지 않아 모듈간 통신비용이 줄어들어 효율적인 운영이 가능하다
            - main에 모든 기능을 넣은것과 유사
         - 단점
            - 디버깅이 힘들다
            - 이식성이 낮다 - 다양한 환경에 적용하기 어렵다
            - 기능간 상호의존성이 높기 때문에 기능상의 작은 결함이 시스템 전체로 확산될 수 있다
   - 계층형구조커널
      - 비슷한 기능을 가진 모듈을 묶어서 하나의 계층을 만들고, 계층간 통신을 통해 운영체제를 구현하는 방식
      - 윈도우를 비롯해 오늘날의 운영체제는 대부분 이 구조로 이루어져 있다
   - 마이크로구조커널
      - 가장 기본적인 기능만 제공한다. 커널의 구조를 살펴보면 운영체제의 많은 부분이 사용자 영역에 구현되어 있따
      - 커널은 메모리 관리와 프로세스간 동기화 서비스를 제공하고
      - 메모리 관리자와 ㅗㅇ기화 모듈은 프로세스간 통신모듈로 연결되어 있다
      - 대표적인 운영체제
         - 마하
            - (애플의 OS X와 IOS 커널)
- 커널이 하는 일
   - 프로세스관리
      - CPU 배분하고, 작업에 필요한 제반환경제공
   - 메모리 관리
      - 프로세스에 작업 공간을 배치하고 실제 메모리보다 큰 가상공간을 제공
   - 파일시스템 관리
      - 데이터를 저장하고 접근할 수 있는 인터페이스 제공
   - 입출력 관리
      - 필요한 입력과 출력 서비스를 제공
   - 프로세스간 통신 관리
      - 공동 작업을 위한 각 프로세스 간 통신 환경 지원

## 운영체제
- 역할
   - 자원관리
      - 효율성
         - 같은 작업량을 처리하는데 보다 적은 자원을 사용해야 한다
         - 운영체제가 사용하는 코드를 최적화
            운영체제 크기 최소화
   - 자원보호
      - 안정성
         - 하드웨어적인 보안 문제
         - 문제발생시 이전으로 복구하는 결함 포용 기능
   - 하드웨어 인터페이스 제공
      - 확장성
         - 다양한 시스템 자원을 추가하거나 제거하기 편리해야 한다
            - 플러그&플레이
   - 사용자 인터페이스 제공
      - 편리성
         - 편리하게 작업할 수 있는 환경을 제공하는 것
- 운영체제란
   - 컴퓨터 시스템의 자원을 안정적이고, 효율적으로 관리하며,
      사용자에게 편리한 인터페이스를 제공해주는 소프트웨어입니다